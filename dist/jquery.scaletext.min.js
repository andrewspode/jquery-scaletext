/*
 *  jQuery ScaleText - v1.0.5
 *  Quickly scale text inside a container to be as large as possible without spilling.
 *  https://github.com/unclespode/jquery-scaletext
 *
 *  Made by Andrew Spode Miller
 *  Under MIT License
 */
!function(a,b){"use strict";b.extend({scaleTextSetup:function(c){return b.extend(a,c)}}).fn.extend({scaleText:function(c){c=b.extend({},a,c);var d=function(a,c,d){var e=b(a),f=!1,g=!1,h=e.css("display");if("inline"==h||"none"==h||!h)return!1;if(d&&a!=c.element){var i=e.attr("style"),j=e.height(),k=e.width(),l={padding:"0px",border:"0px",visibility:"hidden"};c.settings.fixedWidth&&(l.width=k+1+"px"),c.settings.fixedHeight&&(l.height=j+1+"px"),e.css(l)}return c.settings.fixedWidth&&(f=Math.abs(a.scrollWidth-a.clientWidth)>2),c.settings.fixedHeight&&(g=Math.abs(a.scrollHeight-a.clientHeight)>2),d&&a!=c.element&&e.attr("style",i||""),f||g},e=function(a){return Math.round(100*a)/100},f=function(a){var d,f,h,i,j,k,l,m;a.styleTag=a.el.attr("style"),a.el.show(),a.measuredOriginalFontSize=Math.round(parseFloat(a.el.css("font-size"))),a.measuredWidth=a.el.width(),a.measuredHeight=a.el.height(),a.el.removeClass(a.settings.scaledClass).css({"font-size":"100%",overflow:"hidden",padding:"0px",border:"0px",visiblity:"hidden"}).find(".scaleTextSpacer").remove(),a.settings.fixedHeight&&a.el.css("height",a.measuredHeight+1+"px"),a.settings.fixedWidth&&a.el.css("width",a.measuredWidth+1+"px"),a.measuredFontSize=Math.round(parseFloat(a.el.css("font-size"))),a.settings.makeRelative&&a.children.each(function(){k=b(this),m=k.parent(),j=Math.round(parseFloat(k.css("font-size"))),l=Math.round(parseFloat(m.css("font-size"))),j&&l&&j!==l&&k.css("font-size",e(j/l*100)+"%")}),d=g(a),a.settings.verticalMiddle&&(a.el.css("height","auto"),i=a.measuredHeight-a.el.height(),i&&(h=Math.floor(i/2)+"px",f=b('<div class="scaleTextSpacer"></div>').css("height",h).prependTo(a.el))),a.el.attr("style",a.styleTag||"").css("font-size",d.percent+"%"),a.settings.animate&&Math.abs(a.measuredOriginalFontSize-d.pixels)>=.5&&(a.el.css("font-size",a.measuredOriginalFontSize+"px").animate({"font-size":d.percent+"%"},a.settings.animateOptions),a.settings.animateSpacer&&f&&f.length&&f.css("height","0px").animate({height:h},a.settings.animateOptions)),a.el.addClass(a.settings.scaledClass),c.debug&&console.log("Took: "+((new Date).getTime()-a.startTime)+"ms","Loops: ",a.loopCount-a.skipCount,"Skipped: ",a.skipCount,"Child checks: ",a.childCount,"Original Font Size:",a.measuredFontSize,"Final Font Size",d)},g=function(a){for(var b,c,f,g,h=Math.floor(a.measuredHeight),i=0,j={},k=2*h,l=1.1-Math.min(100,a.settings.accuracy)/100;h>l&&a.loopCount<a.loopLimit&&a.childCount<a.loopLimit;){if(a.loopCount++,g=!1,i+=h,k>i?a.el.css("font-size",e(i/a.measuredFontSize*100)+"%"):a.skipCount++,k>i&&(a.settings.overflowCheckContainer&&(g=d(a.element,a),!f&&2*l>=h&&(f=1,h=i)),!a.settings.overflowCheckContainer||f&&!g))for(b=a.children.length;b--;)if(c=a.children[b],c.hasChildNodes()&&(a.childCount++,d(c,a,a.settings.paddingCheckChildren))){g=!0;break}(i>=k||g)&&(k=i,i-=h,h/=2)}return i-=.5,0>=i&&(i=1),j={pixels:e(i),percent:e(i/a.measuredFontSize*100)},a.el.css("font-size",j.percent+"%"),j};return b(this).each(function(){var a={element:this,el:b(this),children:b(this).find("*"),settings:c,loopCount:0,skipCount:0,childCount:0,loopLimit:9999};c.debug&&(a.startTime=(new Date).getTime()),(c.fixedWidth||c.fixedHeight)&&f(a)})}})}({debug:!1,accuracy:100,makeRelative:!0,verticalMiddle:!0,animate:!1,animateSpacer:!0,animateOptions:{},paddingCheckChildren:!0,overflowCheckContainer:!0,fixedWidth:!0,fixedHeight:!0,scaledClass:"scaledText"},jQuery,window,document);